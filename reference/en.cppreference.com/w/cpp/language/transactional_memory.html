<!DOCTYPE html>
<html lang="en" dir="ltr" class="client-nojs">
<head>
<title>Transactional memory - cppreference.com</title>
<meta charset="UTF-8" />
<meta name="generator" content="MediaWiki 1.21.2" />
<link rel="alternate" type="application/x-wiki" title="Edit" href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit" />
<link rel="edit" title="Edit" href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit" />
<link rel="shortcut icon" href="../../../favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../../../mwiki/opensearch_desc.php" title="cppreference.com (en)" />
<link rel="EditURI" type="application/rsd+xml" href="http://en.cppreference.com/mwiki/api.php?action=rsd" />
<link rel="alternate" type="application/atom+xml" title="cppreference.com Atom feed" href="http://en.cppreference.com/mwiki/index.php?title=Special:RecentChanges&amp;feed=atom" />
<link rel="stylesheet" href="../../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=ext.gadget.ColiruCompiler%257Cext.rtlcite%257Cmediawiki.legacy.commonPrint%252Cshared%257Cskins.cppreference2&amp;only=styles&amp;skin=cppreference2&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<link rel="stylesheet" href="../../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=styles&amp;skin=cppreference2&amp;*.css" />
<style>a:lang(ar),a:lang(ckb),a:lang(fa),a:lang(kk-arab),a:lang(mzn),a:lang(ps),a:lang(ur){text-decoration:none}#toc{display:none}.editsection{display:none}
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-css:7:472787eddcf4605d11de8c7ef047234f */</style>

<script src="../../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"cpp/language/transactional_memory","wgTitle":"cpp/language/transactional memory","wgCurRevisionId":81695,"wgArticleId":14480,"wgIsArticle":true,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Todo without reason","Todo with reason"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"cpp/language/transactional_memory","wgRestrictionEdit":[],"wgRestrictionMove":[]});
}</script><script>if(window.mw){
mw.loader.implement("user.options",function(){mw.user.options.set({"ccmeonemails":0,"cols":80,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":0,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":5,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":0,"showtoolbar":1,"skin":"cppreference2","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"en","language":"en","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false,"gadget-ColiruCompiler":1});;},{},{});mw.loader.implement("user.tokens",function(){mw.user.tokens.set({"editToken":"+\\","patrolToken":false,"watchToken":false});;},{},{});
/* cache key: mwiki1-mwiki_en_:resourceloader:filter:minify-js:7:ca03345b1e2c4d90a25d968753a73b92 */
}</script>
<script>if(window.mw){
mw.loader.load(["mediawiki.page.startup","mediawiki.legacy.wikibits","mediawiki.legacy.ajax"]);
}</script>
<style type="text/css">/*<![CDATA[*/
.source-cpp {line-height: normal;}
.source-cpp li, .source-cpp pre {
	line-height: normal; border: 0px none white;
}
/**
 * GeSHi Dynamically Generated Stylesheet
 * --------------------------------------
 * Dynamically generated stylesheet for cpp
 * CSS class: source-cpp, CSS id: 
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 * --------------------------------------
 */
.cpp.source-cpp .de1, .cpp.source-cpp .de2 {font: normal normal 1em/1.2em monospace; margin:0; padding:0; background:none; vertical-align:top;}
.cpp.source-cpp  {font-family:monospace;}
.cpp.source-cpp .imp {font-weight: bold; color: red;}
.cpp.source-cpp li, .cpp.source-cpp .li1 {font-weight: normal; vertical-align:top;}
.cpp.source-cpp .ln {width:1px;text-align:right;margin:0;padding:0 2px;vertical-align:top;}
.cpp.source-cpp .li2 {font-weight: bold; vertical-align:top;}
.cpp.source-cpp .kw1 {color: #0000dd;}
.cpp.source-cpp .kw2 {color: #0000ff;}
.cpp.source-cpp .kw3 {color: #0000dd;}
.cpp.source-cpp .kw4 {color: #0000ff;}
.cpp.source-cpp .co1 {color: #909090;}
.cpp.source-cpp .co2 {color: #339900;}
.cpp.source-cpp .coMULTI {color: #ff0000; font-style: italic;}
.cpp.source-cpp .es0 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es1 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es2 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es3 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es4 {color: #008000; font-weight: bold;}
.cpp.source-cpp .es5 {color: #008000; font-weight: bold;}
.cpp.source-cpp .br0 {color: #008000;}
.cpp.source-cpp .sy0 {color: #008000;}
.cpp.source-cpp .sy1 {color: #000080;}
.cpp.source-cpp .sy2 {color: #000040;}
.cpp.source-cpp .sy3 {color: #000040;}
.cpp.source-cpp .sy4 {color: #008080;}
.cpp.source-cpp .st0 {color: #008000;}
.cpp.source-cpp .nu0 {color: #000080;}
.cpp.source-cpp .nu6 {color: #000080;}
.cpp.source-cpp .nu8 {color: #000080;}
.cpp.source-cpp .nu12 {color: #000080;}
.cpp.source-cpp .nu16 {color:#000080;}
.cpp.source-cpp .nu17 {color:#000080;}
.cpp.source-cpp .nu18 {color:#000080;}
.cpp.source-cpp .nu19 {color:#000080;}
.cpp.source-cpp .ln-xtra, .cpp.source-cpp li.ln-xtra, .cpp.source-cpp div.ln-xtra {background-color: #ffc;}
.cpp.source-cpp span.xtra { display:block; }

/*]]>*/
</style><!--[if lt IE 7]><style type="text/css">body{behavior:url("/mwiki/skins/cppreference2/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr sitedir-ltr ns-0 ns-subject page-cpp_language_transactional_memory skin-cppreference2 action-view cpp-navbar">
        <!-- header -->
        <div id="mw-head" class="noprint">
            <div id="cpp-head-first-base">
                <div id="cpp-head-first">
                    <h5><a href="../../../index.html">
                        cppreference.com                        </a></h5>
                    <div id="cpp-head-search">
                        
<!-- 0 -->
<div id="p-search">
	<h5><label for="searchInput">Search</label></h5>
	<form action="http://en.cppreference.com/mwiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Special:Search"/>
				<div id="simpleSearch">
						<input name="search" title="Search cppreference.com [f]" accesskey="f" id="searchInput" />						<button type="submit" name="button" title="Search the pages for this text" id="searchButton"><img src="../../../mwiki/skins/cppreference2/images/search-ltr.png%3F303" alt="Search" /></button>					</div>
			</form>
</div>

<!-- /0 -->
                    </div>
                    <div id="cpp-head-personal">
                        
<!-- 0 -->
<div id="p-personal" class="">
<span id="pt-createaccount"><a href="http://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=cpp%2Flanguage%2Ftransactional+memory&amp;type=signup">Create account</a></span>	<div class="menu">
        <ul>
<li id="pt-login"><a href="http://en.cppreference.com/mwiki/index.php?title=Special:UserLogin&amp;returnto=cpp%2Flanguage%2Ftransactional+memory" title="You are encouraged to log in; however, it is not mandatory [o]" accesskey="o">Log in</a></li>        </ul>
    </div>
</div>

<!-- /0 -->
                    </div>

                </div>
            </div>
            <div id="cpp-head-second-base">
                <div id="cpp-head-second">
                    <div id="cpp-head-tools-left">
                        
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Namespaces</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="transactional_memory.html"  title="View the content page [c]" accesskey="c">Page</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://en.cppreference.com/mwiki/index.php?title=Talk:cpp/language/transactional_memory&amp;action=edit&amp;redlink=1"  title="Discussion about the content page [t]" accesskey="t">Discussion</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Variants</span><a href="transactional_memory.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                    <div id="cpp-head-tools-right">
                        
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Views</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="transactional_memory.html" >View</a></span></li>
					<li id="ca-edit"><span><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit"  title="You can edit this page. Please use the preview button before saving [e]" accesskey="e">Edit</a></span></li>
					<li id="ca-history" class="collapsible"><span><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">History</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Actions</span><a href="transactional_memory.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
                    </div>
                </div>
            </div>
        </div>
        <!-- /header -->
        <!-- content -->
        <div id="cpp-content-base">
            <div id="content">
                <a id="top"></a>
                <div id="mw-js-message" style="display:none;"></div>
                                <!-- firstHeading -->
                <h1 id="firstHeading" class="firstHeading">Transactional memory</h1>
                <!-- /firstHeading -->
                <!-- bodyContent -->
                <div id="bodyContent">
                                        <!-- tagline -->
                    <div id="siteSub">From cppreference.com</div>
                    <!-- /tagline -->
                                        <!-- subtitle -->
                    <div id="contentSub"><span class="subpages">&lt; <a href="../../cpp.html" title="cpp">cpp</a>&lrm; | <a href="../language.1.html" title="cpp/language">language</a></span></div>
                    <!-- /subtitle -->
                                                            <!-- bodycontent -->
                    <div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><div class="t-navbar" style=""><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><a href="../../cpp.html" title="cpp"> C++</a><div class="t-navbar-menu"><div><div><table class="t-nv-begin" cellpadding="0" style="line-height:1.1em;">
<tr class="t-nv"><td colspan="5"> <a href="../language.1.html" title="cpp/language"> Language</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../header.html" title="cpp/header"> Standard library headers</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../concept.html" title="cpp/concept"> Concepts</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../utility.html" title="cpp/utility"> Utilities library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../string.html" title="cpp/string"> Strings library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../container.html" title="cpp/container"> Containers library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../algorithm.html" title="cpp/algorithm"> Algorithms library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../iterator.html" title="cpp/iterator"> Iterators library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../numeric.html" title="cpp/numeric"> Numerics library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../io.html" title="cpp/io"> Input/output library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../locale.html" title="cpp/locale"> Localizations library</a> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../regex.html" title="cpp/regex"> Regular expressions library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../atomic.html" title="cpp/atomic"> Atomic operations library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../thread.html" title="cpp/thread"> Thread support library</a> <span class="t-mark-rev t-since-cxx11">(C++11)</span> </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="../experimental.html" title="cpp/experimental"> Technical Specifications</a> </td></tr>
</table></div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/navbar_content&amp;action=edit">&#91;edit&#93;</a></span></div></div></div></div><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><a href="../language.1.html" title="cpp/language"> C++ language</a></div><div class="t-navbar-sep">&#160;</div><div class="t-navbar-head"><a href="statements.html" title="cpp/language/statements"> Statements</a><div class="t-navbar-menu"><div><div style="display:inline-block">
<div><table class="t-nv-begin" cellpadding="0" style="">
<tr class="t-nv-h2"><td colspan="5"> Labels </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="statements.html" title="cpp/language/statements"> <span class="t-spar">label</span> : <span class="t-spar">statement</span></a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Expression statements </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="statements.html" title="cpp/language/statements"> <span class="t-spar">expression</span> ; </a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Compound statements </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="statements.html" title="cpp/language/statements"> { <span class="t-spar">statement</span>... } </a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Selection statements </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="if.html" title="cpp/language/if"> if</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="switch.html" title="cpp/language/switch"> switch</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Iteration statements </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="while.html" title="cpp/language/while"> while</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="do.html" title="cpp/language/do"> do-while</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="for.html" title="cpp/language/for"> for</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="range-for.html" title="cpp/language/range-for"> range for</a><span class="t-mark-rev t-since-cxx11">(C++11)</span></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Jump statements </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="break.html" title="cpp/language/break"> break</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="continue.html" title="cpp/language/continue"> continue</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="return.html" title="cpp/language/return"> return</a></td></tr>
<tr class="t-nv"><td colspan="5"> <a href="goto.html" title="cpp/language/goto"> goto</a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Declaration statements </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="declarations.html" title="cpp/language/declarations"> <span class="t-spar">declaration</span> ; </a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Try blocks </td></tr>
<tr class="t-nv"><td colspan="5"> <a href="try_catch.html" title="cpp/language/try catch"> try <span class="t-spar">compound-statement</span> <span class="t-spar">handler-sequence</span></a></td></tr>
<tr class="t-nv-h2"><td colspan="5"> Transactional memory </td></tr>
<tr class="t-nv"><td colspan="5"> <strong class="selflink"> <code>syncronized</code>, <code>atomic_commit</code></strong>, etc<span class="t-mark-rev t-since-tm-ts t-mark-ts">(TM TS)</span></td></tr>
</table></div>
</div><div><span class="editsection noprint plainlinks" title="Edit this template"><a rel="nofollow" class="external text" href="http://en.cppreference.com/mwiki/index.php?title=Template:cpp/language/statements/navbar_content&amp;action=edit">&#91;edit&#93;</a></span></div></div></div></div><div class="t-navbar-sep">&#160;</div></div>
<table class="plainlinks fmbox fmbox-system noprint" style="font-size: 0.8em">
<tr>
<td class="mbox-image">
  <img alt="" src="../../../../upload.cppreference.com/mwiki/images/3/31/Imbox_notice.png" width="40" height="40" /></td>
<td class="mbox-text" style=""> <b>Work in progress</b> This page is under construction </td>
</tr>
</table>
<table class="plainlinks fmbox fmbox-system noprint" style="font-size: 0.8em">
<tr>
<td class="mbox-image">
  <img alt="" src="../../../../upload.cppreference.com/mwiki/images/3/31/Imbox_notice.png" width="40" height="40" /></td>
<td class="mbox-text" style=""> <b>Experimental Feature</b> The functionality described on this page is part of the Transactional Memory Technical Specification ISO/IEC TS 19841:2015 <span class="t-mark-rev t-since-tm-ts t-mark-ts">(TM TS)</span> </td>
</tr>
</table>
<p>Transactional memory is a concurrency synchronization mechanism that combines groups of statements in transactions, that are
</p>
<ul><li> atomic (either all statements occur, or nothing occurs)
</li><li> isolated (statements in a transaction may not observe half-written writes made by another transaction, even if they execute in parallel)
</li></ul>
<p>Typical implementations use hardware transactional memory where supported and to the limits that it is available (e.g. until the changeset is saturated) and fall back to software transactional memory, usually implemented with optimistic concurrency: if another transaction updated some of the variables used by a transaction, it is silently retried. For that reason, retriable transactions ("atomic blocks") can only call transaction-safe functions.
</p><p>Note that accessing a variable in a transaction and out of a transaction without other external synchronization is a data race.
</p><p>If feature testing is supported, the features described here are indicated by the macro constant <span class="t-c"><span class="mw-geshi cpp source-cpp">__cpp_transactional_memory</span></span> with a value equal or greater <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="nu0">201505</span></span></span>.
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Contents</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="transactional_memory.html#Synchronized_blocks"><span class="tocnumber">1</span> <span class="toctext">Synchronized blocks</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="transactional_memory.html#Atomic_blocks"><span class="tocnumber">2</span> <span class="toctext">Atomic blocks</span></a></li>
<li class="toclevel-1 tocsection-3"><a href="transactional_memory.html#Transaction-safe_functions"><span class="tocnumber">3</span> <span class="toctext">Transaction-safe functions</span></a>
<ul>
<li class="toclevel-2 tocsection-4"><a href="transactional_memory.html#Transaction-safe_virtual_functions"><span class="tocnumber">3.1</span> <span class="toctext">Transaction-safe virtual functions</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="transactional_memory.html#Attributes"><span class="tocnumber">4</span> <span class="toctext">Attributes</span></a></li>
<li class="toclevel-1 tocsection-6"><a href="transactional_memory.html#Notes"><span class="tocnumber">5</span> <span class="toctext">Notes</span></a></li>
<li class="toclevel-1 tocsection-7"><a href="transactional_memory.html#Compiler_support"><span class="tocnumber">6</span> <span class="toctext">Compiler support</span></a></li>
</ul>
</td></tr></table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=1" title="Edit section: Synchronized blocks">edit</a>]</span> <span class="mw-headline" id="Synchronized_blocks">Synchronized blocks</span></h3>
<p><code><b>synchronized</b></code> <span class="t-spar">compound-statement</span>
</p>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p>All outermost synchronized blocks execute in a single total order. The end of each synchronized block synchronizes with the beginning of the next synchronized block in that order.
</p><p>Synchronized blocks may call transaction-unsafe functions.
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// the following function is thread-safe, and guarantees consistent before-after pairs</span>
<span class="kw4">int</span> f<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
    <span class="kw4">static</span> <span class="kw4">int</span> i <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
    synchronized <span class="br0">&#123;</span> <span class="co1">// begin transaction</span>
        printf<span class="br0">&#40;</span><span class="st0">&quot;before&#160;%d<span class="es1">\n</span>&quot;</span>, i<span class="br0">&#41;</span><span class="sy4">;</span>
        <span class="sy2">++</span>i<span class="sy4">;</span>
        printf<span class="br0">&#40;</span><span class="st0">&quot;after&#160;%d<span class="es1">\n</span>&quot;</span>, i<span class="br0">&#41;</span><span class="sy4">;</span>
        <span class="kw1">return</span> i<span class="sy4">;</span> <span class="co1">// commit transaction</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p>Leaving a synchronized block by any means (reaching the end, goto, break, continue, return, exception) commits the transaction.
</p><p>Entering a synchronized block by goto or switch is not allowed.
</p>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=2" title="Edit section: Atomic blocks">edit</a>]</span> <span class="mw-headline" id="Atomic_blocks">Atomic blocks</span></h3>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p><code><b>atomic_noexcept</b></code> <span class="t-spar">compound-statement</span>
</p><p><code><b>atomic_cancel</b></code> <span class="t-spar">compound-statement</span>
</p><p><code><b>atomic_commit</b></code> <span class="t-spar">compound-statement</span>
</p>
<div class="t-li1"><span class="t-li">1)</span> If an exception is thrown, <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../utility/program/abort.html"><span class="kw844">std::<span class="me2">abort</span></span></a></span></span> is called</div>
<div class="t-li1"><span class="t-li">2)</span> If an exception is thrown, <span class="t-c"><span class="mw-geshi cpp source-cpp"><a href="../utility/program/abort.html"><span class="kw844">std::<span class="me2">abort</span></span></a></span></span> is called, unless the exception is one of the exceptions uses for transaction cancellation (see below) in which case the transaction is <i>cancelled</i>: the values of all memory locations in the program that were modified by side effects of the operations of the atomic block are restored to the values they had at the time the start of the atomic block was executed, and the exception continues stack unwinding as usual.</div>
<div class="t-li1"><span class="t-li">3)</span> If an exception is thrown, the transaction is committed normally.</div>
<p>The exceptions used for transaction cancellation in <code>atomic_cancel</code> blocks are <span class="t-lc"><a href="../memory/new/bad_alloc.html" title="cpp/memory/new/bad alloc">std::bad_alloc</a></span>, <span class="t-lc"><a href="../memory/new/bad_array_length.html" title="cpp/memory/new/bad array length">std::bad_array_length</a></span>, <span class="t-lc"><a href="../memory/new/bad_array_new_length.html" title="cpp/memory/new/bad array new length">std::bad_array_new_length</a></span>, <span class="t-lc"><a href="../types/bad_cast.html" title="cpp/types/bad cast">std::bad_cast</a></span>, <span class="t-lc"><a href="../types/bad_typeid.html" title="cpp/types/bad typeid">std::bad_typeid</a></span>, <span class="t-lc"><a href="../error/bad_exception.html" title="cpp/error/bad exception">std::bad_exception</a></span>, <span class="t-lc"><a href="../error/exception.html" title="cpp/error/exception">std::exception</a></span> and all standard library exceptions derived from it, and the new exception <span class="t-lc">std::tx_exception&lt;T&gt;</span>
</p><p>The <span class="t-spar">compound-statement</span> in an atomic block is not allowed to execute any expression or statement or call any function that isn't <code>transaction_safe</code> (this is a compile time error)
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="co1">// each call to f() retrieves a unique value of i, even when done in parallel</span>
<span class="kw4">int</span> f<span class="br0">&#40;</span><span class="br0">&#41;</span>
<span class="br0">&#123;</span>
   <span class="kw4">static</span> <span class="kw4">int</span> i <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
   atomic_noexcept <span class="br0">&#123;</span> <span class="co1">// begin transaction</span>
<span class="co1">//   printf(&quot;before&#160;%d\n&quot;, i); // error: cannot call a non transaction-safe function</span>
      <span class="sy2">++</span>i<span class="sy4">;</span>
      <span class="kw1">return</span> i<span class="sy4">;</span> <span class="co1">// commit transaction</span>
   <span class="br0">&#125;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>Leaving an atomic block by any means other than exception (reaching the end, goto, break, continue, return) commits the transaction.
</p>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=3" title="Edit section: Transaction-safe functions">edit</a>]</span> <span class="mw-headline" id="Transaction-safe_functions">Transaction-safe functions</span></h3>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p>A function can be explicitly declared to be transaction-safe by using the keyword <span class="t-c"><span class="mw-geshi cpp source-cpp">transaction_safe</span></span> in its declaration.
</p>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p>In a <a href="lambda.html" title="cpp/language/lambda">lambda</a> declaration, it appears either immediately after the capture list, or immediately after the (keyword <code>mutable</code> (if one is used).
</p>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p><br />
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">extern</span> <span class="kw4">volatile</span> <span class="kw4">int</span> <span class="sy2">*</span> p <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span>
<span class="kw1">struct</span> S <span class="br0">&#123;</span>
  <span class="kw1">virtual</span> ~S<span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span><span class="sy4">;</span>
<span class="kw4">int</span> f<span class="br0">&#40;</span><span class="br0">&#41;</span> transaction_safe <span class="br0">&#123;</span>
  <span class="kw4">int</span> x <span class="sy1">=</span> <span class="nu0">0</span><span class="sy4">;</span> <span class="co1">// ok: not volatile</span>
  p <span class="sy1">=</span> <span class="sy3">&amp;</span>x<span class="sy4">;</span> <span class="co1">// ok: the pointer is not volatile</span>
  <span class="kw4">int</span> i <span class="sy1">=</span> <span class="sy2">*</span>p<span class="sy4">;</span> <span class="co1">// error: read through volatile glvalue</span>
  S s<span class="sy4">;</span> <span class="co1">// error: invocation of unsafe destructor</span>
<span class="br0">&#125;</span></pre></div></div>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><span class="kw4">int</span> f<span class="br0">&#40;</span><span class="kw4">int</span> x<span class="br0">&#41;</span> <span class="br0">&#123;</span> <span class="co1">// implicitly transaction-safe</span>
  <span class="kw1">if</span> <span class="br0">&#40;</span>x <span class="sy1">&lt;=</span> <span class="nu0">0</span><span class="br0">&#41;</span>
    <span class="kw1">return</span> <span class="nu0">0</span><span class="sy4">;</span>
  <span class="kw1">return</span> x <span class="sy2">+</span> f<span class="br0">&#40;</span>x<span class="sy2">-</span><span class="nu0">1</span><span class="br0">&#41;</span><span class="sy4">;</span>
<span class="br0">&#125;</span></pre></div></div>
<p>If a function that is not transaction-safe is called through a reference or pointer to a non-transaction-safe function, the behavior is undefined.
</p><p><br />
</p><p><br />
</p><p>Pointers to transaction-safe functions and pointers to transaction-safe member functions are implicitly convertible to pointers to functions and pointers to member functions respectively. It is unspecified if the resulting pointer compares equal to the original.
</p>
<h4><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=4" title="Edit section: Transaction-safe virtual functions">edit</a>]</span> <span class="mw-headline" id="Transaction-safe_virtual_functions">Transaction-safe virtual functions</span></h4>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete </td></tr></table>
<p>If the final overrider of a <code>transaction_safe_dynamic</code> function is not declared <code>transaction_safe</code>, calling it in an atomic block is undefined behavior.
</p><p><br />
</p>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=5" title="Edit section: Attributes">edit</a>]</span> <span class="mw-headline" id="Attributes">Attributes</span></h3>
<p>The attribute  <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="br0">&#91;</span><span class="br0">&#91;</span>optimize_for_synchronized<span class="br0">&#93;</span><span class="br0">&#93;</span></span></span> may be applied to a declarator in a function declaration and must appear on the first declaration of the function.
</p><p>If a function is declared <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="br0">&#91;</span><span class="br0">&#91;</span>optimize_for_synchronized<span class="br0">&#93;</span><span class="br0">&#93;</span></span></span> in one translation unit and the same function is declared without <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="br0">&#91;</span><span class="br0">&#91;</span>optimize_for_synchronized<span class="br0">&#93;</span><span class="br0">&#93;</span></span></span> in another translation unit, the program is ill-formed; no diagnostic required.
</p><p>It indicates that a the function definition should be optimized for invocation from a <span class="t-c"><span class="mw-geshi cpp source-cpp">synchronized</span></span> statement. In particular, it avoids serializing synchronized blocks that make a call to a function that is transaction-safe for the majority of calls, but not for all calls (e.g. hash table insertion that may have to rehash, allocator that may have to request a new block, a simple function that may rarely log)
</p>
<div dir="ltr" class="mw-geshi" style="text-align: left;"><div class="cpp source-cpp"><pre class="de1"><a href="../atomic/atomic.html"><span class="kw1790">std::<span class="me2">atomic</span></span></a><span class="sy1">&lt;</span><span class="kw4">bool</span><span class="sy1">&gt;</span> rehash<span class="br0">&#123;</span><span class="kw2">false</span><span class="br0">&#125;</span><span class="sy4">;</span>
&#160;
<span class="co1">// maintenance thread runs this loop</span>
<span class="kw4">void</span> maintenance_thread<span class="br0">&#40;</span><span class="kw4">void</span><span class="sy2">*</span><span class="br0">&#41;</span> <span class="br0">&#123;</span>
    <span class="kw1">while</span> <span class="br0">&#40;</span><span class="sy3">!</span>shutdown<span class="br0">&#41;</span> <span class="br0">&#123;</span>
        synchronized <span class="br0">&#123;</span>
            <span class="kw1">if</span> <span class="br0">&#40;</span>rehash<span class="br0">&#41;</span> <span class="br0">&#123;</span>
                hash.<span class="me1">rehash</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="sy4">;</span>
                rehash <span class="sy1">=</span> <span class="kw2">false</span><span class="sy4">;</span>
            <span class="br0">&#125;</span>
        <span class="br0">&#125;</span>
    <span class="br0">&#125;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">// worker threads execute hundreds of thousands of calls to this function </span>
<span class="co1">// every second. Calls to insert_key() from synchronized blocks in other</span>
<span class="co1">// translation units will cause those blocks to serialize, unless insert_key()</span>
<span class="co1">// is marked [[optimize_for_synchronized]]</span>
<span class="br0">&#91;</span><span class="br0">&#91;</span>optimize_for_synchronized<span class="br0">&#93;</span><span class="br0">&#93;</span> <span class="kw4">void</span> insert_key<span class="br0">&#40;</span><span class="kw4">char</span><span class="sy2">*</span> key, <span class="kw4">char</span><span class="sy2">*</span> value<span class="br0">&#41;</span> <span class="br0">&#123;</span>
  <span class="kw4">bool</span> concern <span class="sy1">=</span> hash.<span class="me1">insert</span><span class="br0">&#40;</span>key, value<span class="br0">&#41;</span><span class="sy4">;</span>
  <span class="kw1">if</span> <span class="br0">&#40;</span>concern<span class="br0">&#41;</span> rehash <span class="sy1">=</span> <span class="kw2">true</span><span class="sy4">;</span>
<span class="br0">&#125;</span>
&#160;
<span class="co1">// GCC assembly without the attribute: the entire function is serialized</span>
insert_key<span class="br0">&#40;</span><span class="kw4">char</span><span class="sy2">*</span>, <span class="kw4">char</span><span class="sy2">*</span><span class="br0">&#41;</span><span class="sy4">:</span>
	subq	$<span class="nu19">8</span>, <span class="sy2">%</span>rsp
	movq	<span class="sy2">%</span>rsi, <span class="sy2">%</span>rdx
	movq	<span class="sy2">%</span>rdi, <span class="sy2">%</span>rsi
	movl	$hash, <span class="sy2">%</span>edi
	call	Hash<span class="sy4">::</span><span class="me2">insert</span><span class="br0">&#40;</span><span class="kw4">char</span><span class="sy2">*</span>, <span class="kw4">char</span><span class="sy2">*</span><span class="br0">&#41;</span>
	testb	<span class="sy2">%</span>al, <span class="sy2">%</span>al
	je	.<span class="me1">L20</span>
	movb	$<span class="nu19">1</span>, rehash<span class="br0">&#40;</span><span class="sy2">%</span>rip<span class="br0">&#41;</span>
	mfence
.<span class="me1">L20</span><span class="sy4">:</span>
	addq	$<span class="nu19">8</span>, <span class="sy2">%</span>rsp
	ret
&#160;
&#160;
<span class="co1">// GCC assembly with the attribute:</span>
transaction clone <span class="kw1">for</span> insert_key<span class="br0">&#40;</span><span class="kw4">char</span><span class="sy2">*</span>, <span class="kw4">char</span><span class="sy2">*</span><span class="br0">&#41;</span><span class="sy4">:</span>
	subq	$<span class="nu19">8</span>, <span class="sy2">%</span>rsp
	movq	<span class="sy2">%</span>rsi, <span class="sy2">%</span>rdx
	movq	<span class="sy2">%</span>rdi, <span class="sy2">%</span>rsi
	movl	$hash, <span class="sy2">%</span>edi
	call	transaction clone <span class="kw1">for</span> Hash<span class="sy4">::</span><span class="me2">insert</span><span class="br0">&#40;</span><span class="kw4">char</span><span class="sy2">*</span>, <span class="kw4">char</span><span class="sy2">*</span><span class="br0">&#41;</span>
	testb	<span class="sy2">%</span>al, <span class="sy2">%</span>al
	je	.<span class="me1">L27</span>
	xorl	<span class="sy2">%</span>edi, <span class="sy2">%</span>edi
	call	_ITM_changeTransactionMode <span class="co1">// Note: this is the serialization point</span>
	movb	$<span class="nu19">1</span>, rehash<span class="br0">&#40;</span><span class="sy2">%</span>rip<span class="br0">&#41;</span>
	mfence
.<span class="me1">L27</span><span class="sy4">:</span>
	addq	$<span class="nu19">8</span>, <span class="sy2">%</span>rsp
	ret</pre></div></div>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete<br />Reason: check assembly with trunk, also show caller-side changes </td></tr></table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=6" title="Edit section: Notes">edit</a>]</span> <span class="mw-headline" id="Notes">Notes</span></h3>
<table class="metadata plainlinks ambox mbox-small-left ambox-notice" style=""><tr><td class="mbox-empty-cell"></td><td class="mbox-text" style="">This section is incomplete<br />Reason: experience notes from Wyatt paper/talk </td></tr></table>
<h3><span class="editsection">[<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=edit&amp;section=7" title="Edit section: Compiler support">edit</a>]</span> <span class="mw-headline" id="Compiler_support">Compiler support</span></h3>
<p>An older variant of this specification was <a rel="nofollow" class="external text" href="http://www-users.cs.umn.edu/~boutcher/stm/">supported in GCC</a> as of 4.7, current gcc trunk (gcc 6.0) supports the technical specification (requires <span class="t-c"><span class="mw-geshi cpp source-cpp"><span class="sy2">-</span>fgnu<span class="sy2">-</span>tm</span></span> to enable)
</p>
<!-- 
NewPP limit report
Preprocessor visited node count: 1908/1000000
Preprocessor generated node count: 6276/1000000
Postâ€expand include size: 38142/2097152 bytes
Template argument size: 6838/2097152 bytes
Highest expansion depth: 17/40
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key mwiki1-mwiki_en_:pcache:idhash:14480-0!*!0!!en!2!* and timestamp 20151104180458 -->
</div>                    <!-- /bodycontent -->
                                        <!-- printfooter -->
                    <div class="printfooter">
                    Retrieved from "<a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;oldid=81695">http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;oldid=81695</a>"                    </div>
                    <!-- /printfooter -->
                                                            <!-- catlinks -->
                    <div id='catlinks' class='catlinks'><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="http://en.cppreference.com/w/Special:Categories" title="Special:Categories">Categories</a>: <ul><li><a href="http://en.cppreference.com/w/Category:Todo_without_reason" title="Category:Todo without reason">Todo without reason</a></li><li><a href="http://en.cppreference.com/w/Category:Todo_with_reason" title="Category:Todo with reason">Todo with reason</a></li></ul></div></div>                    <!-- /catlinks -->
                                                            <div class="visualClear"></div>
                    <!-- debughtml -->
                                        <!-- /debughtml -->
                </div>
                <!-- /bodyContent -->
            </div>
        </div>
        <!-- /content -->
        <!-- footer -->
        <div id="cpp-footer-base" class="noprint">
            <div id="footer">
                        <div id="cpp-navigation">
            <h5>Navigation</h5>
            <ul>
<li id="n-Support-us"><a href="http://www.cppreference.com/support" rel="nofollow">Support us</a></li><li id="n-recentchanges"><a href="http://en.cppreference.com/w/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-FAQ"><a href="http://en.cppreference.com/w/Cppreference:FAQ">FAQ</a></li><li id="n-Offline-version"><a href="http://en.cppreference.com/w/Cppreference:Archives">Offline version</a></li>            </ul>
        </div>
                        <div id="cpp-toolbox">
            <h5><span>Toolbox</span><a href="transactional_memory.html#"></a></h5>
            <ul>
<li id="t-whatlinkshere"><a href="http://en.cppreference.com/w/Special:WhatLinksHere/cpp/language/transactional_memory" title="A list of all wiki pages that link here [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="http://en.cppreference.com/w/Special:RecentChangesLinked/cpp/language/transactional_memory" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="http://upload.cppreference.com/w/Special:Upload" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="http://en.cppreference.com/w/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-print"><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;printable=yes" rel="alternate" title="Printable version of this page [p]" accesskey="p">Printable version</a></li><li id="t-permalink"><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;oldid=81695" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="http://en.cppreference.com/mwiki/index.php?title=cpp/language/transactional_memory&amp;action=info">Page information</a></li>            </ul>
        </div>
                            <ul id="footer-info">
                                    <li id="footer-info-lastmod"> This page was last modified on 4 November 2015, at 10:04.</li>
                                    <li id="footer-info-viewcount">This page has been accessed 392 times.</li>
                            </ul>
                    <ul id="footer-places">
                                    <li id="footer-places-privacy"><a href="http://en.cppreference.com/w/Cppreference:Privacy_policy" title="Cppreference:Privacy policy">Privacy policy</a></li>
                                    <li id="footer-places-about"><a href="http://en.cppreference.com/w/Cppreference:About" title="Cppreference:About">About cppreference.com</a></li>
                                    <li id="footer-places-disclaimer"><a href="http://en.cppreference.com/w/Cppreference:General_disclaimer" title="Cppreference:General disclaimer">Disclaimers</a></li>
                            </ul>
                                    <ul id="footer-icons" class="noprint">
                                    <li id="footer-poweredbyico">
                                            <a href="http://www.mediawiki.org/"><img src="../../../mwiki/skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>                                            <a href="http://qbnz.com/highlighter/"><img src="../../../../upload.cppreference.com/mwiki/images/2/2b/powered_by_geshi_88x31.png" alt="Powered by GeSHi" height="31" width="88" /></a>                                            <a href="http://www.tigertech.net/referral/cppreference.com"><img src="../../../../upload.cppreference.com/mwiki/images/9/94/powered_by_tigertech_88x31.png" alt="Hosted by Tiger Technologies" height="31" width="88" /></a>                                        </li>
                                </ul>
                        <div style="clear:both">
            </div>
            </div>
        </div>
        <!-- /footer -->
        <script>if(window.mw){
mw.loader.state({"site":"loading","user":"missing","user.groups":"ready"});
}</script>
<script src="../../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=skins.cppreference2&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script>if(window.mw){
mw.loader.load(["mediawiki.action.view.postEdit","mediawiki.user","mediawiki.page.ready","mediawiki.searchSuggest","mediawiki.hidpi","ext.gadget.ColiruCompiler"], null, true);
}</script>
<script src="../../../mwiki/load.php%3Fdebug=false&amp;lang=en&amp;modules=site&amp;only=scripts&amp;skin=cppreference2&amp;*"></script>
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-2828341-1']);
_gaq.push(['_setDomainName', 'cppreference.com']);
_gaq.push(['_trackPageview']);
</script><!-- Served in 0.083 secs. -->
	</body>
<!-- Cached 20151104192413 -->
</html>
